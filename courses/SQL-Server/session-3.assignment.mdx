---
title: 'Session 3 Assignment - DDL Practice + SQL Queries on StoreDB'
visible: false
---


## Task 1 â€“ Create the DDL (Data Definition Language) for Company ERD

Design a full database schema for the following scenario using SQL Server (DDL):

### ðŸ’¡ Notes

- An employee works for only **one** department
- A department is **managed by one** employee
- An employee can **work on many** projects (M:N)
- Projects must belong to **one** department
- Employees can have **many** dependents
- Deleting an employee should delete their dependents automatically

### Constraints:

Including the following for each table:

Required constraints:

- PRIMARY KEY constraints on all tables
- FOREIGN KEY constraints with appropriate ON DELETE and ON UPDATE actions
- NOT NULL constraints on required fields
- UNIQUE constraints where applicable
- DEFAULT values for relevant columns
- CHECK constraints for data validation (e.g. gender must be 'M' or 'F')

Additional requirements:

- Demonstrate ALTER TABLE usage by:
  1. Adding a new column
  2. Adding a FOREIGN KEY constraint
  3. Modifying a column's data type
  4. Dropping an existing constraint
- Include sample data insertion

---

## Task 2 â€“ SQL Queries on StoreDB

Use the provided StoreDB database to perform the following queries:

1. List all products with list price greater than 1000
2. Get customers from "CA" or "NY" states
3. Retrieve all orders placed in 2023
4. Show customers whose emails end with `@gmail.com`
5. Show all inactive staff
6. List top 5 most expensive products
7. Show latest 10 orders sorted by date
8. Retrieve the first 3 customers alphabetically by last name
9. Find customers who did not provide a phone number
10. Show all staff who have a manager assigned
11. Count number of products in each category
12. Count number of customers in each state
13. Get average list price of products per brand
14. Show number of orders per staff
15. Find customers who made more than 2 orders
16. Products priced between 500 and 1500
17. Customers in cities starting with "S"
18. Orders with order_status either 2 or 4
19. Products from category_id IN (1, 2, 3)
20. Staff working in store_id = 1 OR without phone number

---

## Submission Instructions

- Submit a `.sql` file with all queries properly commented
- Use readable aliasing and formatting
- Test your queries before submission

---
